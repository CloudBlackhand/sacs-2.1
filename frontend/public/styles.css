/* Reset e variáveis */
:root {
  --primary: #1a73e8;
  --primary-dark: #1557b0;
  --success: #34a853;
  --warning: #fbbc04;
  --danger: #ea4335;
  --bg: #f8f9fa;
  --panel: #ffffff;
  --text: #202124;
  --text-secondary: #5f6368;
  --border: #dadce0;
  --border-light: #e8eaed;
  --shadow: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24);
  --shadow-hover: 0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23);
}

* { box-sizing: border-box; }
html, body { height: 100%; margin: 0; font-family: 'Segoe UI', system-ui, sans-serif; }
body { background: var(--bg); color: var(--text); }

.container { width: 100%; height: 100vh; display: flex; flex-direction: column; padding: 0; margin: 0; }

/* Login */
#login { max-width: 400px; margin: 50px auto; padding: 32px; background: var(--panel); border-radius: 12px; box-shadow: var(--shadow); }
#login h2 { margin: 0 0 24px; text-align: center; color: var(--text); }
#login input { width: 100%; padding: 12px; margin-bottom: 16px; border: 1px solid var(--border); border-radius: 8px; font-size: 16px; }
#login button { width: 100%; padding: 12px; background: var(--primary); color: white; border: none; border-radius: 8px; font-size: 16px; cursor: pointer; }
#login button:hover { background: var(--primary-dark); }
.msg { margin-top: 16px; padding: 12px; border-radius: 8px; text-align: center; }
.msg.error { background: #fce8e6; color: var(--danger); border: 1px solid #fad2cf; }

/* Barra de navegação principal */
.main-nav { display: flex; align-items: center; justify-content: space-between; padding: 10px 14px; background: var(--panel); border-bottom: 1px solid var(--border); box-shadow: var(--shadow); border-radius: 0; }
.nav-brand { font-size: 20px; font-weight: 600; color: var(--primary); }
.nav-tabs { display: flex; gap: 6px; flex-wrap: wrap; }
.nav-tab { padding: 8px 14px; background: transparent; border: none; color: var(--text-secondary); font-size: 14px; font-weight: 500; cursor: pointer; border-radius: 8px; transition: all 0.2s; }
.nav-tab:hover { background: var(--bg); color: var(--text); }
.nav-tab.active { background: var(--primary); color: white; }
.nav-user { display: flex; align-items: center; gap: 12px; }
.user-name { font-weight: 500; color: var(--text); }
.btn-logout { padding: 8px 16px; background: transparent; color: var(--danger); border: 1px solid var(--danger); border-radius: 6px; cursor: pointer; font-size: 14px; }
.btn-logout:hover { background: var(--danger); color: white; }

/* Conteúdo das abas */
.tab-content { flex: 1; overflow: hidden; min-height: 0; display: flex; height: calc(100vh - 60px); }
.tab-panel { display: none; height: 100%; }
.tab-panel.active { display: flex; flex-direction: column; flex: 1; min-height: 0; height: 100%; }

/* === ABA CONFIGURAÇÃO === */
.config-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); gap: 12px; padding: 12px; height: 100%; overflow-y: auto; }
.config-card { background: var(--panel); border: 1px solid var(--border); border-radius: 10px; padding: 14px; box-shadow: var(--shadow); }
.config-card h3 { margin: 0 0 16px; color: var(--text); font-size: 16px; font-weight: 600; }

/* Upload de Excel */
.excel-upload-area { display: flex; flex-direction: column; gap: 12px; }
.upload-zone { border: 2px dashed var(--border); border-radius: 12px; padding: 40px; text-align: center; cursor: pointer; transition: all 0.2s; position: relative; }
.upload-zone:hover { border-color: var(--primary); background: #f0f7ff; }
.upload-icon { font-size: 48px; margin-bottom: 12px; }
.upload-text { font-size: 16px; font-weight: 500; color: var(--text); margin-bottom: 8px; }
.upload-hint { color: var(--text-secondary); font-size: 14px; }
.file-input { position: absolute; top: 0; left: 0; width: 100%; height: 100%; opacity: 0; cursor: pointer; }

.file-info { display: flex; justify-content: space-between; align-items: center; padding: 12px; background: var(--bg); border-radius: 8px; }
.file-details { display: flex; flex-direction: column; }
.file-name { font-weight: 600; color: var(--text); }
.file-size { font-size: 12px; color: var(--text-secondary); margin-top: 2px; }

/* Filtros */
.filters-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 16px; margin-bottom: 16px; }
.filter-group { display: flex; flex-direction: column; }
.filter-group label { font-weight: 500; margin-bottom: 6px; color: var(--text); }
.filter-input { padding: 8px 12px; border: 1px solid var(--border); border-radius: 6px; font-size: 14px; }
.filter-input:focus { outline: none; border-color: var(--primary); }
.filter-actions { display: flex; gap: 8px; }

/* Status WhatsApp */
.whatsapp-status { margin-bottom: 16px; }
.status-indicator { display: flex; align-items: center; gap: 8px; }
.status-dot { width: 12px; height: 12px; border-radius: 50%; background: var(--text-secondary); }
.status-dot.online { background: var(--success); }
.status-dot.offline { background: var(--danger); }
.status-text { font-weight: 500; }
.whatsapp-actions { display: flex; flex-direction: column; gap: 8px; }
.qr-container { display: flex; justify-content: center; margin-top: 12px; }
.qr-image { max-width: 200px; border: 1px solid var(--border); border-radius: 8px; }

/* === ABA CONTATOS === */
.contacts-container { height: 100%; display: flex; flex-direction: column; padding: 12px; gap: 12px; }
.contacts-filters { margin-bottom: 20px; }
.search-group { display: flex; align-items: center; gap: 12px; }
.search-input { flex: 1; padding: 10px 12px; border: 1px solid var(--border); border-radius: 8px; font-size: 14px; }
.search-input:focus { outline: none; border-color: var(--primary); }
.checkbox-label { display: flex; align-items: center; gap: 6px; font-size: 14px; color: var(--text); }

.contacts-list-container { flex: 1; display: flex; flex-direction: column; }
.contacts-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px; }
.contacts-header h3 { margin: 0; color: var(--text); }
.contacts-stats { display: flex; gap: 16px; }
.stat-item { font-size: 14px; color: var(--text-secondary); }

.contacts-table-container { flex: 1; overflow: auto; border: 1px solid var(--border); border-radius: 8px; background: var(--panel); }
.contacts-table { width: 100%; border-collapse: collapse; }
.contacts-table th, .contacts-table td { padding: 12px; text-align: left; border-bottom: 1px solid var(--border-light); }
.contacts-table th { background: var(--bg); font-weight: 600; color: var(--text); font-size: 14px; }
.contacts-table td { font-size: 13px; }
.contacts-table tr:hover { background: var(--bg); }
.no-data { text-align: center; color: var(--text-secondary); padding: 20px; font-style: italic; }

/* === ABA ENVIO === */
.messaging-container { height: 100%; display: flex; flex-direction: column; padding: 12px; gap: 12px; overflow-y: auto; }

.template-section { background: var(--panel); border: 1px solid var(--border); border-radius: 10px; padding: 14px; box-shadow: var(--shadow); }
.template-section h3 { margin: 0 0 16px; color: var(--text); }
.template-buttons { display: flex; flex-wrap: wrap; gap: 8px; margin-bottom: 16px; }
.template-btn { padding: 8px 16px; background: var(--bg); border: 1px solid var(--border); border-radius: 6px; cursor: pointer; font-size: 13px; transition: all 0.2s; }
.template-btn:hover { background: var(--primary); color: white; border-color: var(--primary); }
.message-textarea { width: 100%; padding: 12px; border: 1px solid var(--border); border-radius: 8px; font-size: 14px; resize: vertical; min-height: 120px; }
.message-textarea:focus { outline: none; border-color: var(--primary); }
.template-actions { display: flex; gap: 8px; margin-top: 12px; }

.preview-section { background: var(--panel); border: 1px solid var(--border); border-radius: 10px; padding: 14px; box-shadow: var(--shadow); }
.preview-section h3 { margin: 0 0 16px; color: var(--text); }
.preview-content { padding: 12px; background: var(--bg); border-radius: 8px; min-height: 80px; font-size: 14px; line-height: 1.5; }

.sending-section { background: var(--panel); border: 1px solid var(--border); border-radius: 10px; padding: 14px; box-shadow: var(--shadow); }
.sending-section h3 { margin: 0 0 16px; color: var(--text); }
.sending-info { margin-bottom: 16px; }
.stats-info { margin-bottom: 12px; font-size: 14px; color: var(--text-secondary); }
.delay-config { display: flex; align-items: center; gap: 12px; flex-wrap: wrap; }
.delay-config label { font-size: 14px; color: var(--text); }
.delay-input { width: 80px; padding: 6px 8px; border: 1px solid var(--border); border-radius: 4px; font-size: 14px; }
.sending-actions { display: flex; gap: 12px; margin-bottom: 16px; }

.progress-container { margin-top: 16px; }
.progress-bar { width: 100%; height: 8px; background: var(--border-light); border-radius: 4px; overflow: hidden; }
.progress-fill { height: 100%; background: var(--primary); width: 0%; transition: width 0.3s; }
.progress-text { margin-top: 8px; font-size: 14px; color: var(--text-secondary); text-align: center; }

/* === ABA FEEDBACKS === */
.feedbacks-container { height: 100%; display: flex; flex-direction: column; padding: 12px; gap: 12px; }
.feedback-controls { margin-bottom: 20px; }
.feedback-filters { display: flex; gap: 12px; align-items: center; flex-wrap: wrap; }

.feedbacks-list { flex: 1; display: flex; flex-direction: column; }
.feedbacks-header { margin-bottom: 16px; }
.feedbacks-header h3 { margin: 0; color: var(--text); }
.feedbacks-table-container { flex: 1; overflow-y: auto; }

.feedback-card { background: var(--panel); border: 1px solid var(--border); border-radius: 8px; padding: 16px; margin-bottom: 12px; }
.feedback-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px; }
.feedback-sa { font-weight: 600; color: var(--text); }
.feedback-date { font-size: 12px; color: var(--text-secondary); }
.feedback-content { background: var(--bg); padding: 12px; border-radius: 6px; margin-bottom: 8px; font-size: 14px; line-height: 1.4; }
.feedback-sentiment { font-size: 20px; text-align: right; }

.summary-container { display: flex; gap: 16px; flex-wrap: wrap; }
.summary-stat { background: var(--panel); border: 1px solid var(--border); border-radius: 8px; padding: 16px; text-align: center; min-width: 120px; }
.summary-value { font-size: 24px; font-weight: 700; color: var(--primary); margin-bottom: 4px; }
.summary-label { font-size: 12px; color: var(--text-secondary); }

/* === ABA STATUS === */
.status-container { height: 100%; padding: 12px; }
.status-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(360px, 1fr)); gap: 12px; height: 100%; }

.status-card { background: var(--panel); border: 1px solid var(--border); border-radius: 10px; padding: 14px; box-shadow: var(--shadow); }
.status-card h3 { margin: 0 0 16px; color: var(--text); }

.stats-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 16px; }
.stat-item { text-align: center; }
.stat-value { font-size: 24px; font-weight: 700; color: var(--primary); margin-bottom: 4px; }
.stat-label { font-size: 12px; color: var(--text-secondary); }

.logs-container { display: flex; flex-direction: column; height: 300px; }
.logs-content { flex: 1; background: var(--bg); border: 1px solid var(--border); border-radius: 8px; padding: 12px; font-family: 'Courier New', monospace; font-size: 12px; overflow-y: auto; white-space: pre-wrap; }
.logs-actions { display: flex; gap: 8px; margin-top: 12px; }

/* Botões */
.btn-primary { padding: 12px 20px; background: var(--primary); color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 14px; font-weight: 500; }
.btn-primary:hover { background: var(--primary-dark); }
.btn-primary:disabled { background: var(--text-secondary); cursor: not-allowed; }
.btn-secondary { padding: 12px 20px; background: var(--bg); color: var(--text); border: 1px solid var(--border); border-radius: 8px; cursor: pointer; font-size: 14px; }
.btn-secondary:hover { background: var(--border-light); }

/* Utilitários */
.hidden { display: none !important; }

/* Modal reutilizável */
.modal-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.5); display: flex; align-items: center; justify-content: center; z-index: 1000; }
.modal { width: min(520px, 92vw); background: var(--panel); border: 1px solid var(--border); border-radius: 12px; box-shadow: var(--shadow-hover); overflow: hidden; }
.modal-header { display: flex; justify-content: space-between; align-items: center; padding: 12px 16px; border-bottom: 1px solid var(--border); }
.modal-title { font-weight: 600; color: var(--text); }
.modal-close { background: transparent; border: none; font-size: 18px; cursor: pointer; color: var(--text-secondary); }
.modal-body { padding: 16px; display: grid; grid-template-columns: 96px 1fr; gap: 16px; align-items: start; }
.modal-avatar { width: 96px; height: 96px; border-radius: 50%; object-fit: cover; border: 1px solid var(--border); }
.modal-row { margin-bottom: 8px; color: var(--text); }

/* === ABA CHAT WHATSAPP === */
.whatsapp-container { height: 100%; display: flex; flex-direction: column; background: #0b141a; width: 100%; }

/* Header do WhatsApp */
.wa-header { display: flex; justify-content: space-between; align-items: center; padding: 10px 16px; background: #202c33; border-bottom: 1px solid #374045; }
.wa-header-left { display: flex; align-items: center; gap: 12px; }
.wa-avatar { width: 40px; height: 40px; border-radius: 50%; background: #00a884; color: white; display: flex; align-items: center; justify-content: center; font-size: 18px; }
.wa-title { color: #e9edef; font-weight: 600; font-size: 16px; }
.wa-header-right { display: flex; gap: 8px; }
.wa-header-btn { background: transparent; border: none; color: #aebac1; font-size: 18px; cursor: pointer; padding: 8px; border-radius: 4px; }
.wa-header-btn:hover { background: #374045; }

/* Container principal */
.wa-main-container { flex: 1; display: flex; overflow: hidden; min-height: 0; height: 100%; }

/* Sidebar */
.wa-sidebar { width: clamp(280px, 30%, 400px); background: #111b21; border-right: 1px solid #374045; display: flex; flex-direction: column; }
.wa-sidebar-header { display: flex; justify-content: space-between; align-items: center; padding: 10px 16px; background: #202c33; border-bottom: 1px solid #374045; }
.wa-sidebar-title { color: #e9edef; font-weight: 600; font-size: 16px; }
.wa-sidebar-btn { background: transparent; border: none; color: #aebac1; font-size: 16px; cursor: pointer; padding: 8px; border-radius: 4px; }
.wa-sidebar-btn:hover { background: #374045; }

/* Busca */
.wa-search-container { padding: 8px 12px; background: #111b21; }
.wa-search-box { display: flex; align-items: center; background: #202c33; border-radius: 8px; padding: 8px 12px; }
.wa-search-icon { color: #8696a0; margin-right: 8px; }
.wa-search-input { flex: 1; background: transparent; border: none; color: #e9edef; font-size: 14px; outline: none; }
.wa-search-input::placeholder { color: #8696a0; }

/* Lista de conversas */
.wa-chats-list { flex: 1; overflow-y: auto; }
.wa-chats-container { padding: 0; }
.wa-chat-item { display: flex; align-items: center; padding: 12px 16px; cursor: pointer; border-bottom: 1px solid #202c33; transition: background 0.2s; }
.wa-chat-item:hover { background: #202c33; }
.wa-chat-item.selected { background: #2a3942; }
.wa-chat-item .wa-chat-avatar { width: 49px; height: 49px; border-radius: 50%; background: #00a884; color: white; display: flex; align-items: center; justify-content: center; font-size: 18px; margin-right: 15px; }
.wa-chat-content { flex: 1; min-width: 0; }
.wa-chat-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 4px; }
.wa-chat-name { color: #e9edef; font-weight: 500; font-size: 16px; }
.wa-chat-time { color: #8696a0; font-size: 12px; }
.wa-chat-preview { color: #8696a0; font-size: 14px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }

/* Estado vazio */
.wa-empty-state { text-align: center; padding: 40px 20px; color: #8696a0; }
.wa-empty-icon { font-size: 48px; margin-bottom: 16px; }
.wa-empty-text { font-size: 14px; }

/* Área do chat */
.wa-chat-area { flex: 1; display: flex; flex-direction: column; background: #0b141a; min-width: 0; width: 100%; }

/* Header do chat */
.wa-chat-header { display: flex; justify-content: space-between; align-items: center; padding: 10px 16px; background: #202c33; border-bottom: 1px solid #374045; }
.wa-chat-info { display: flex; align-items: center; gap: 12px; }
.wa-chat-avatar { width: 40px; height: 40px; border-radius: 50%; background: #00a884; color: white; display: flex; align-items: center; justify-content: center; font-size: 18px; }
.wa-chat-details { display: flex; flex-direction: column; }
.wa-chat-name { color: #e9edef; font-weight: 600; font-size: 16px; }
.wa-chat-status { color: #8696a0; font-size: 13px; }
.wa-chat-actions { display: flex; gap: 8px; }
.wa-chat-btn { background: transparent; border: none; color: #aebac1; font-size: 18px; cursor: pointer; padding: 8px; border-radius: 4px; }
.wa-chat-btn:hover { background: #374045; }

/* Área de mensagens */
.wa-messages-container { flex: 1; background: #0b141a; background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100"><defs><pattern id="grain" width="100" height="100" patternUnits="userSpaceOnUse"><circle cx="25" cy="25" r="1" fill="%23ffffff" opacity="0.02"/><circle cx="75" cy="75" r="1" fill="%23ffffff" opacity="0.02"/><circle cx="50" cy="10" r="0.5" fill="%23ffffff" opacity="0.02"/><circle cx="10" cy="60" r="0.5" fill="%23ffffff" opacity="0.02"/><circle cx="90" cy="40" r="0.5" fill="%23ffffff" opacity="0.02"/></pattern></defs><rect width="100" height="100" fill="url(%23grain)"/></svg>'); height: 100%; }
.wa-messages-list { padding: 16px; height: 100%; overflow-y: auto; display: flex; flex-direction: column; gap: 8px; }

/* Mensagem de boas-vindas */
.wa-welcome-message { text-align: center; color: #8696a0; margin: auto; }
.wa-welcome-icon { font-size: 48px; margin-bottom: 16px; }
.wa-welcome-title { color: #e9edef; font-size: 18px; font-weight: 600; margin-bottom: 8px; }
.wa-welcome-text { font-size: 14px; }

/* Mensagens */
.wa-message { display: flex; margin-bottom: 8px; }
.wa-message-incoming { justify-content: flex-start; }
.wa-message-outgoing { justify-content: flex-end; }
.wa-message-bubble { max-width: min(68ch, 70%); padding: 8px 10px; border-radius: 10px; position: relative; }
.wa-message-incoming .wa-message-bubble { background: #202c33; color: #e9edef; }
.wa-message-outgoing .wa-message-bubble { background: #005c4b; color: #e9edef; }
.wa-message-text { font-size: 14px; line-height: 19px; margin-bottom: 4px; word-wrap: break-word; }
.wa-message-time { font-size: 11px; color: #8696a0; text-align: right; }

/* Composer */
.wa-composer { padding: 8px 12px; background: #202c33; border-top: 1px solid #374045; }
.wa-composer-container { display: flex; align-items: center; gap: 8px; }
.wa-composer-btn { background: transparent; border: none; color: #8696a0; font-size: 20px; cursor: pointer; padding: 8px; border-radius: 4px; }
.wa-composer-btn:hover { background: #374045; }
.wa-input-container { flex: 1; background: #2a3942; border-radius: 8px; padding: 9px 12px; min-height: 42px; display: flex; align-items: center; }
.wa-message-input { width: 100%; background: transparent; border: none; color: #e9edef; font-size: 15px; outline: none; resize: none; }
.wa-message-input::placeholder { color: #8696a0; }
.wa-send-btn { background: #00a884; color: white; border: none; border-radius: 50%; width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; cursor: pointer; font-size: 16px; }
.wa-send-btn:hover { background: #008f72; }

/* Scrollbar personalizada */
.wa-chats-list::-webkit-scrollbar,
.wa-messages-list::-webkit-scrollbar { width: 6px; }
.wa-chats-list::-webkit-scrollbar-track,
.wa-messages-list::-webkit-scrollbar-track { background: transparent; }
.wa-chats-list::-webkit-scrollbar-thumb,
.wa-messages-list::-webkit-scrollbar-thumb { background: #374045; border-radius: 3px; }
.wa-chats-list::-webkit-scrollbar-thumb:hover,
.wa-messages-list::-webkit-scrollbar-thumb:hover { background: #4a5a63; }

